
# [A3] 컴포넌트, 다시 생각하기


### Components 는 4가지의 의존성을 가진다. 

1. 스타일에 대한 의존 
2. logic(hooks..)에 대한 의존 
3. Client State(Global State 등, Redux)에 대한 의존
4. Server State(Schema)에 대한 의존   

## 리팩토링 규칙들 

비슷한 관심사는 가까운 곳에  
데이터를 ID 기반으로 정리하기  
의존한다면 그대로 드러내기  
모델 기준으로 컴포넌트 분리하기  

### 1. 비슷한 관심사는 가까운 곳에

문제점  
- 한 컴포넌트에 필요한 의존성들이 흩어져 있으면 집중력이 분산된다.  

> Duck패턴 처럼 모아 두자.

### 2. 데이터를 ID 기반으로 정리하기  

문제점
- 게시글에 댓글 단 사람의 정보를 불러오고 싶은 상황이 있다.  
- Post.Comments.User.id 로 깊게깊게 참조를 하는 문제  

> id만 알면 객체를 식별 가능하다 
cf) https://github.com/paularmstrong/normalizr  

### 의존한다면 그대로 드러내기  

props 이름을 지을때 userImageThumbnail:string 필드는  
user.image.thumbnail 의 정보가 필요하다는   
스키마 단위의 암시가 되므로, 어떤 의존성들이 있는지 추측 가능   


### 모델 기준으로 컴포넌트 분리하기  

컴포넌트의 발전 방향은 , 데이터 스키마의 발전과 함꼐 한다.  


## 더 중요한 원칙 

**질문이 정답보다 중요하다**

> **관점**이 **기술**보다 중요하다.

리팩토링 규칙을 단순히 아는것 보다 어떻게 이런 규칙들이 만들어졌는지  
어떤 코드스멜(악취)에서 부터 (질문,의문) 관점이 만들어져서 
규칙(정답)이 만들어진것인지 파악하는것이 더 중요   




## ref 



https://www.youtube.com/watch?v=HYgKBvLr49c