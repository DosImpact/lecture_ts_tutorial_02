## 목표

\*결국 모든 성능은 2가지로 귀결

1. ✅ 로딩 성능

- 리소스 불러오는 성능
- 이를 위해 통신에 대해 알아야함
- preload, lazyload, 캐싱, 압축 등의 기술 사용

2. ✅ 랜더링 성능

- 불러온 리소스를 얼마나 빠르게 그리는지
- 브라우저의 동작원리를 알아야 한다.

## 분석 툴

[ chrome dev tools ]

Lighthouse 패널 분석 : 성능향상을 위한 가이드 라인
Performance 패널 분석 : CPU,Memory 등 리소스 활용 상태 모니터링  
Network 패널 분석 : 리소스 로딩 모니터링  
Coverage 탭 분석 : JS코드의 usage를 분석

[ webpack ]

webpack-bundle-analyzer 이용한 분석 : 번들링 결과 확인

---

### Performance 패널

라이트 하우스 실행 후 스코어가 나온다.

- Opportunities 항목 : 로딩 관점에서 개선시킬 부분들
- Diagnostics 항목 : 웹브라우저 퍼포먼스 관점에서 개선시킬 부분들

### webpack-bundle-analyzer

https://pusha.tistory.com/entry/webpack-bundle-analyzer-%EC%9B%B9%ED%8C%A9-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%A0%95-%EB%B0%A9%EB%B2%95

```js
// npm install --save-dev webpack-bundle-analyzer

const BundleAnalyzerPlugin =
  require("webpack-bundle-analyzer").BundleAnalyzerPlugin;

module.exports = {
  plugins: [
    new BundleAnalyzerPlugin({
      analyzerMode: "static" /* 분석 파일 html 보고서를 dist 폴더에 저장한다 */,
      reportFilename:
        "bundle-report.html" /* 분석 파일 보고서 이름은 아무거나 정하면 된다. */,
      openAnalyzer: false /* 분석창을 실행시 열지 않는다 */,
      generateStatsFile: true /* 분석 파일을 json 저장한다 . */,
      statsFilename:
        "bundle-stats.json" /* 분석 파일 json 이름은 아무거나 정하면 된다. */,
    }),
  ],
};
```

## 최적화 기법

텍스트 압축
✅이미지 사이즈 압축
적절한 사이즈 변환
✅이미지 CDN 최적화
리소스 캐싱
이미지 preload
컴포넌트 preload.
Component Lazy load
React code Splitting.
Image Lazy Load.
병목 코드 제거
repaint, reflow 줄이기

### 리소스 관리 - 이미지 크기

**이슈 : Properly size images**

해결 방향

- 랜더링 되는 앨리먼트의 크기와 이미지 사이즈를 맞추자
- 래티나 디스플레이는 같은 픽셀크기에 2배 해상도를 그리는 디스플래이가 있다.
- 그래서 120X120 공간은 2배큰 240X240 을 그려주도록 하자.

해결 방법

- image processing CDN ( CDN 기능 + Img resize 기능 )
- https://imgix.com/ 라는 솔루션 이용

### 리소스 관리 - JS 크기

**이슈 : Minify JavaScript**

해결 방향

- JS 파일을 압축하여 제공하자.

해결 방법

- CRA 환경에서는 자동으로 build 시 minify 된다.
